<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reality Modeâ„¢</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #111827;
      color: #f3f4f6;
      padding: 40px;
      max-width: 700px;
      margin: auto;
    }
    .box {
      background: #1f2937;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 0 10px #00000044;
    }
    h1 {
      font-size: 26px;
      margin-bottom: 18px;
    }
    p {
      margin-bottom: 10px;
      line-height: 1.6;
    }
    .highlight {
      color: #facc15;
      font-weight: bold;
    }
    .fade {
      opacity: 0.7;
      font-size: 14px;
    }
    .quote {
      margin-top: 24px;
      font-style: italic;
      color: #9ca3af;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1 id="title">Reality check loading...</h1>
    <p id="summary">Just a sec...</p>
    <div id="details"></div>
    <p class="quote" id="quote"></p>
  </div>

  <script>
    const titles = [
      "This is why we can't have nice things.",
      "Another day, another mess.",
      "May the ad gods have mercy.",
      "You break it, you track it.",
      "Look what you did.",
      "Oh goodie. Issues again. Itâ€™s like I never left."
    ];

    const issueLines = [
      issues => `Your page has <span class="highlight">${issues}</span> complaints from the ad gods,`,
      issues => `The ad gods have filed <span class="highlight">${issues}</span> formal complaints.`,
      issues => `<span class="highlight">${issues}</span> ways you've disappointed the algorithm today.`,
      issues => `Page karma: <span class="highlight">${issues}</span> infractions.`,
      issues => `This page annoyed the ad gods <span class="highlight">${issues}</span> times.`,
      issues => `<span class="highlight">${issues}</span> violations detected.`,
      issues => `Your ad setup triggered <span class="highlight">${issues}</span> alerts.`,
      issues => `<span class="highlight">${issues}</span> slots walk into a page. Fewer walk out.`,
      issues => `Reality check: <span class="highlight">${issues}</span> sins found.`
    ];

    const slotLines = [
      slots => `spread across <span class="highlight">${slots}</span> innocent slots.`,
      slots => `<span class="highlight">${slots}</span> slots are now emotionally unavailable.`,
      slots => `affecting <span class="highlight">${slots}</span> units just trying to exist.`,
      slots => `<span class="highlight">${slots}</span> slots are somewhere crying in binary.`,
      slots => `disrupting <span class="highlight">${slots}</span> little ad lives.`
    ];

    const quotes = [
      "Enough to hurt, not enough to cry over. Yet.",
      "Fixing things builds character.",
      "Just pretend it's all working fine.",
      "We're not mad. Just disappointed.",
      "May tomorrow bring fewer alerts.",
      "Nice drop in revenue today. Was that part of the plan?",
      "'Itâ€™s probably fine.' â€” You, yesterday. Me, not laughing.",
      "Fun fact: Ignoring issues doesnâ€™t fix them.",
      "Stop pretending everythingâ€™s working.",
      "Take me back to the world of fake smiles.",
      "Have you tried turning it off and on again?",
      "Try clearing cache and pretending everything's fine.",
      "Restart browser. Pray to ad gods. Repeat.",
      "Reboot your hope. It might help.",
      "Clear cookies. Clean conscience.",
      "Ignore it and see if it fixes itself.",
      "Refresh the page. Thatâ€™s the extent of our support.",
      "Blame it on the intern. Works every time.",
      "Maybe itâ€™s a feature, not a bug.",
      "At this point, just scream into the void.",
      "Try yoga. Or debugging. Both are painful.",
      "Tell your boss youâ€™re handling it. Then donâ€™t.",
      "Sometimes, the fix is emotional detachment.",
      "Check if the WiFi light is blinking. Always helps.",
      "Drink water. Fix ads. In that order.",
      "Have you sacrificed an ad slot to the algorithm lately?"
];

    ];

    const detailsMessages = {
      gptFail: [
        "GPT engine failed.",
        "GPT said 'not today.'",
        "GPT unit? Ghosted.",
        "Guess who forgot the script?",
        "Existential crisis much?",
        "GPT? Never showed up.",
        "It's 2026. GPT still needs to be invited.",
        "No GPT, no party.",
        "This page ghosted GPT first.",
        "GPT not found. Like your QA process."
      ],
      domFail: [
        "Slots ghosted the DOM. Pity.",
        "DOM who?",
        "Rendered into the void.",
        "Slot appeared in DOM but not in GPT. Classic.",
        "A DOM slot that doesnâ€™t even exist in GPT. Bold.",
        "DOM hiding from GPT again.",
        "Maybe the div is shy.",
        "No div, no deal.",
        "DOM is a concept. Apparently.",
        "Have you tried actually putting the thing on the page?"
      ],
      wrongNetwork: [
        "Really?",
        "Someone fat-fingered again.",
        "Misconfigured network ID. Surprise!",
        "Wrong address, try again.",
        "Ad call sent to the void.",
        "Network ID cosplay gone wrong.",
        "This isn't even your ad network. Bold.",
        "Calling ads from the wrong house again?",
        "It's giving: wrong number.",
        "You mixed up your networks. Again."
      ],
      emptyResponse: [
        "slots got ghosted by the ad server.",
        "Ad server said: nope.",
        "404: creative not found.",
        "Awkward silence. No ad. Just vibes.",
        "An ad that showed up... nowhere.",
        "Creative skipped leg day. And delivery.",
        "Ad call went out. Nobody came back.",
        "Crickets. Literal ad crickets.",
        "Empty response. Much wow.",
        "No ad. No explanation. Just vibes."
      ],
      unexpectedSize: [
        "slots couldnâ€™t commit to a size.",
        "Creative trying to squeeze where it doesnâ€™t fit.",
        "Creative size mismatch. Like, by a lot.",
        "Wrong outfit for the slot party.",
        "Cosplay gone wrong: size edition.",
        "Creative squeezed where it didn't belong.",
        "Size mismatch: it's not you, it's the layout.",
        "Trying to wear a size S in a size L slot.",
        "Slot size drama, again.",
        "That creative was never going to fit."
      ],
      noDom: [
        "No matching DOM. Classic.",
        "Rendered in GPT, nowhere to go.",
        "GPT spoke, DOM didnâ€™t listen.",
        "Invisible slots are a choice, I guess.",
        "Someone forgot to place the actual div.",
        "DefineSlot... to nowhere.",
        "Rendered in code, missing in action.",
        "DOM skipped its shift again.",
        "You're defining slots for ghosts now?",
        "GPT slots with abandonment issues."
]
    };

    const urlParams = new URLSearchParams(window.location.search);
    const slots = parseInt(urlParams.get('slots') || '0');
    const issues = parseInt(urlParams.get('issues') || '0');
    const loss = parseFloat(urlParams.get('loss') || '0');
    const gptFail = parseInt(urlParams.get('gptFail') || '0');
    const domFail = parseInt(urlParams.get('domFail') || '0');
    const noDom = parseInt(urlParams.get('noDom') || '0');
    const wrongNetwork = parseInt(urlParams.get('wrongNetwork') || '0');
    const emptyResponse = parseInt(urlParams.get('emptyResponse') || '0');
    const unexpectedSize = parseInt(urlParams.get('unexpectedSize') || '0');

    const pick = arr => arr[Math.floor(Math.random() * arr.length)];

    document.getElementById("title").innerHTML = pick(titles);
    document.getElementById("summary").innerHTML = `${pick(issueLines)(issues)} ${pick(slotLines)(slots)}`;

    const details = [];
    if (loss > 0) details.push(`ðŸ©¸ Estimated daily revenue bleeding: <span class="highlight">$${loss}</span>`);
    if (gptFail > 0) details.push(`ðŸ§  ${gptFail} GPT load failures. ${pick(detailsMessages.gptFail)}`);
    if (domFail > 0) details.push(`ðŸ•³ï¸ ${domFail} DOM slots not registered in GPT. ${pick(detailsMessages.domFail)}`);
    if (noDom > 0) details.push(`ðŸ«¥ ${noDom} GPT slots had no matching DOM. ${pick(detailsMessages.noDom)}`);
    if (wrongNetwork > 0) details.push(`ðŸ”Œ ${wrongNetwork} Wrong network IDs. ${pick(detailsMessages.wrongNetwork)}`);
    if (emptyResponse > 0) details.push(`ðŸ“­ ${emptyResponse} Empty ad responses. ${pick(detailsMessages.emptyResponse)}`);
    if (unexpectedSize > 0) details.push(`ðŸ“ ${unexpectedSize} Unexpected creative sizes. ${pick(detailsMessages.unexpectedSize)}`);

    document.getElementById("details").innerHTML = details.map(d => `<p>${d}</p>`).join('');
    document.getElementById("quote").innerText = pick(quotes);
  </script>
</body>
</html>
