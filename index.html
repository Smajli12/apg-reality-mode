<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reality Modeâ„¢</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #111827;
      color: #f3f4f6;
      padding: 40px;
      max-width: 700px;
      margin: auto;
      transition: background 0.4s, color 0.4s;
    }
    .light-mode {
      background: #f3f4f6;
      color: #111827;
    }
    .box {
      background: #1f2937;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 0 10px #00000044;
      transition: background 0.4s;
    }
    .light-mode .box {
      background: #ffffff;
    }
    h1 {
      font-size: 26px;
      margin-bottom: 18px;
    }
    p {
      margin-bottom: 10px;
      line-height: 1.6;
    }
    .highlight {
      color: #facc15;
      font-weight: bold;
    }
    .light-mode .highlight {
      color: #d97706;
    }
    .fade {
      opacity: 0.7;
      font-size: 14px;
    }
    .quote {
      margin-top: 24px;
      font-style: italic;
      color: #9ca3af;
    }
    .light-mode .quote {
      color: #6b7280;
    }
    .button-row {
      margin-top: 24px;
      display: flex;
      gap: 12px;
    }
    button {
      padding: 10px 16px;
      font-size: 14px;
      background: #374151;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #4b5563;
    }
    .light-mode button {
      background: #d1d5db;
      color: #111;
    }
    .light-mode button:hover {
      background: #e5e7eb;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1 id="title">Reality check loading...</h1>
    <p id="summary">Just a sec...</p>
    <div id="details"></div>
    <p class="quote" id="quote"></p>
    <div class="button-row">
      <button onclick="location.reload()">ğŸ” Roast me again</button>
      <button onclick="document.body.classList.toggle('light-mode')">ğŸŒ“ Toggle Light/Dark</button>
    </div>
  </div>

  <script>
    const titles = [
      "ğŸ”¥ This is why we can't have nice things.",
      "ğŸ’€ Another day, another mess.",
      "ğŸ§¨ May the ad gods have mercy.",
      "ğŸ› ï¸ You break it, you track it.",
      "ğŸ™ƒ Look what you did."
    ];

    const issueSlotCombos = [
      (i, s) => `The ad gods have filed <span class="highlight">${i}</span> formal complaints. <span class="highlight">${s}</span> slots caught in the crossfire.`,
      (i, s) => `<span class="highlight">${s}</span> ad slots. <span class="highlight">${i}</span> ways you've disappointed the algorithm today.`,
      (i, s) => `Page karma: <span class="highlight">${i}</span> infractions. <span class="highlight">${s}</span> unlucky slots absorbing the consequences.`,
      (i, s) => `This page annoyed the ad gods <span class="highlight">${i}</span> times. <span class="highlight">${s}</span> slots were just collateral damage.`,
      (i, s) => `<span class="highlight">${i}</span> violations detected. <span class="highlight">${s}</span> tiny rectangles are now emotionally unavailable.`,
      (i, s) => `Your ad setup triggered <span class="highlight">${i}</span> alerts. The <span class="highlight">${s}</span> affected slots are requesting therapy.`,
      (i, s) => `<span class="highlight">${s}</span> slots walk into a page. <span class="highlight">${i}</span> walk out crying.`,
      (i, s) => `<span class="highlight">${i}</span> sins found, <span class="highlight">${s}</span> slots cursed.`
    ];

    const quotes = [
      "Enough to hurt, not enough to cry over. Yet.",
      "Fixing things builds character.",
      "Just pretend it's all working fine.",
      "We're not mad. Just disappointed.",
      "May tomorrow bring fewer alerts.",
      "Youâ€™re doing amazing, sweetie. (No you're not.)",
      "Technically functional. Emotionally broken."
    ];

    const urlParams = new URLSearchParams(window.location.search);
    const slots = parseInt(urlParams.get('slots') || '0');
    const issues = parseInt(urlParams.get('issues') || '0');
    const loss = parseFloat(urlParams.get('loss') || '0');
    const gptFail = parseInt(urlParams.get('gptFail') || '0');
    const domFail = parseInt(urlParams.get('domFail') || '0');
    const wrongNetwork = parseInt(urlParams.get('wrongNetwork') || '0');
    const emptyResponse = parseInt(urlParams.get('emptyResponse') || '0');
    const unexpectedSize = parseInt(urlParams.get('unexpectedSize') || '0');

    const pick = arr => arr[Math.floor(Math.random() * arr.length)];

    document.getElementById("title").innerHTML = pick(titles);
    document.getElementById("summary").innerHTML = pick(issueSlotCombos)(issues, slots);

    const details = [];
    if (loss > 0) details.push(`ğŸ©¸ Estimated daily revenue bleeding: <span class="highlight">$${loss}</span>`);
    if (gptFail > 0) details.push(`ğŸ§  GPT engine failed <span class="highlight">${gptFail}</span> time(s).`);
    if (domFail > 0) details.push(`ğŸ•³ï¸ <span class="highlight">${domFail}</span> slots ghosted the DOM.`);
    if (wrongNetwork > 0) details.push(`ğŸ”Œ <span class="highlight">${wrongNetwork}</span> requests went to the wrong network.`);
    if (emptyResponse > 0) details.push(`ğŸ“­ <span class="highlight">${emptyResponse}</span> slots got ghosted by the ad server.`);
    if (unexpectedSize > 0) details.push(`ğŸ“ <span class="highlight">${unexpectedSize}</span> slots couldnâ€™t commit to a size.`);

    document.getElementById("details").innerHTML = details.map(d => `<p>${d}</p>`).join('');
    document.getElementById("quote").innerText = pick(quotes);
  </script>
</body>
</html>
