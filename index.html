<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reality Modeâ„¢</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #111827;
      color: #f3f4f6;
      padding: 40px;
      max-width: 700px;
      margin: auto;
      transition: background 0.3s, color 0.3s;
    }
    .light-mode {
      background: #f9fafb;
      color: #111827;
    }
    .box {
      background: #1f2937;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 0 10px #00000044;
    }
    .light-mode .box {
      background: #ffffff;
      box-shadow: 0 0 10px #e5e7eb;
    }
    h1 {
      font-size: 26px;
      margin-bottom: 18px;
    }
    p {
      margin-bottom: 10px;
      line-height: 1.6;
    }
    .highlight {
      color: #facc15;
      font-weight: bold;
    }
    .light-mode .highlight {
      color: #ca8a04;
    }
    .fade {
      opacity: 0.7;
      font-size: 14px;
    }
    .quote {
      margin-top: 24px;
      font-style: italic;
      color: #9ca3af;
    }
    .light-mode .quote {
      color: #6b7280;
    }
    .actions {
      margin-top: 24px;
    }
    .button {
      background: #374151;
      color: white;
      padding: 10px 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-right: 8px;
    }
    .light-mode .button {
      background: #d1d5db;
      color: #111827;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1 id="title">Reality check loading...</h1>
    <p id="summary">Just a sec...</p>
    <div id="details"></div>
    <p class="quote" id="quote"></p>
    <div class="actions">
      <button class="button" onclick="window.location.reload()">Roast me again ğŸ”</button>
      <button class="button" onclick="toggleMode()">Toggle Light/Dark ğŸŒ—</button>
    </div>
    <p class="quote">Take me back to the world of fake smiles.</p>
  </div>

  <script>
    const titles = [
      "This is why we can't have nice things.",
      "Another day, another mess.",
      "May the ad gods have mercy.",
      "You break it, you track it.",
      "Look what you did.",
      "Your ads are falling apart. Iâ€™m not mad. Just disappointed.",
      "Nice drop in revenue today. Was that part of the plan?",
      "Guess who forgot to QA? Again.",
      "No oneâ€™s watching your slots. Except me.",
      "Imagine a world where your ads actually work."
    ];

    const issueLines = [
      issues => `Your page has <span class="highlight">${issues}</span> complaints from the ad gods,`,
      issues => `The ad gods have filed <span class="highlight">${issues}</span> formal complaints.`,
      issues => `<span class="highlight">${issues}</span> ways you've disappointed the algorithm today.`,
      issues => `Page karma: <span class="highlight">${issues}</span> infractions.`,
      issues => `This page annoyed the ad gods <span class="highlight">${issues}</span> times.`,
      issues => `<span class="highlight">${issues}</span> violations detected.`,
      issues => `Your ad setup triggered <span class="highlight">${issues}</span> alerts.`,
      issues => `<span class="highlight">${issues}</span> alerts later, weâ€™re still here.`,
      issues => `â€œItâ€™s probably fine.â€ â€” You, yesterday.`
    ];

    const slotLines = [
      slots => `spread across <span class="highlight">${slots}</span> innocent slots.`,
      slots => `<span class="highlight">${slots}</span> slots caught in the crossfire.`,
      slots => `<span class="highlight">${slots}</span> unlucky slots absorbing the consequences.`,
      slots => `<span class="highlight">${slots}</span> tiny rectangles are now emotionally unavailable.`,
      slots => `The <span class="highlight">${slots}</span> affected slots are requesting therapy.`,
      slots => `<span class="highlight">${slots}</span> slots walk into a page. ${slots} walk out crying.`,
      slots => `<span class="highlight">${slots}</span> placements broken. As expected.`,
      slots => `Don't worry, only <span class="highlight">${slots}</span> broken placements today.`
    ];

    const quotes = [
      "Enough to hurt, not enough to cry over. Yet.",
      "Fixing things builds character.",
      "Just pretend it's all working fine.",
      "We're not mad. Just disappointed.",
      "May tomorrow bring fewer alerts.",
      "One of your creatives is lying to you.",
      "Awkward silence. No ad. Just vibes.",
      "I logged it, like the responsible one in this relationship.",
      "I care more than your agency does.",
      "GPT unit? Ghosted.",
      "Creative size mismatch. Like, by a lot.",
      "Slot rendered. Ad call? Nowhere to be seen.",
      "Stop pretending everythingâ€™s working.",
      "I noticed something weird. Again. Because apparently Iâ€™m the only one watching.",
      "Your ads are trying their best. Sadly, their best sucks.",
      "A creative trying to squeeze into a slot it has no business being in (awkward).",
      "Wrong network ID â€” someone fat-fingered again.",
      "An ad that showed up... nowhere. Like your team when it's time to QA.",
      "â€˜Itâ€™s probably fine.â€™ â€” You, yesterday. Me, not laughing.",
      "I live in your ad stack. I see everything. Sleep tight."
    ];

    const urlParams = new URLSearchParams(window.location.search);
    const slots = parseInt(urlParams.get('slots') || '0');
    const issues = parseInt(urlParams.get('issues') || '0');
    const loss = parseFloat(urlParams.get('loss') || '0');
    const gptFail = parseInt(urlParams.get('gptFail') || '0');
    const domFail = parseInt(urlParams.get('domFail') || '0');
    const wrongNetwork = parseInt(urlParams.get('wrongNetwork') || '0');
    const emptyResponse = parseInt(urlParams.get('emptyResponse') || '0');
    const unexpectedSize = parseInt(urlParams.get('unexpectedSize') || '0');

    const pick = arr => arr[Math.floor(Math.random() * arr.length)];

    document.getElementById("title").innerHTML = pick(titles);
    document.getElementById("summary").innerHTML = `${pick(issueLines)(issues)} ${pick(slotLines)(slots)}`;

    const details = [];
    if (loss > 0) details.push(`ğŸ©¸ Estimated daily revenue bleeding: <span class="highlight">$${loss}</span>`);
    if (gptFail > 0) details.push(`ğŸ§  GPT engine failed <span class="highlight">${gptFail}</span> time(s).`);
    if (domFail > 0) details.push(`ğŸ•³ï¸ <span class="highlight">${domFail}</span> slots ghosted the DOM.`);
    if (wrongNetwork > 0) details.push(`ğŸ”Œ <span class="highlight">${wrongNetwork}</span> requests went to the wrong network.`);
    if (emptyResponse > 0) details.push(`ğŸ“­ <span class="highlight">${emptyResponse}</span> slots got ghosted by the ad server.`);
    if (unexpectedSize > 0) details.push(`ğŸ“ <span class="highlight">${unexpectedSize}</span> slots couldnâ€™t commit to a size.`);

    document.getElementById("details").innerHTML = details.map(d => `<p>${d}</p>`).join('');
    document.getElementById("quote").innerText = pick(quotes);

    function toggleMode() {
      document.body.classList.toggle("light-mode");
    }
  </script>
</body>
</html>
